extends layouts/main
include mixins/videoBlock

block content
    .myVideos
        h1 My Videos
        each vd in videos
            .videos
                form(action=routes.deleteVideo(vd.id) + "?_method=DELETE", method="POST")
                    button.button.white#deleteBt(type="submit") Delete
                button.button.white(type="button", onclick="location.href=\"" + routes.editVideo(vd.id) + "\"", class="editVideoBt", id="editBt") Edit
                +videoBlock({
                    id: vd.id,
                    videoName: vd.videoName,
                    description: vd.description,
                    fileUrl: vd.fileUrl,
                    views: vd.views,
                })
            script.
                var videos = document.getElementsByClassName("nowVideo");

                for(var i = 0; i < videos.length; i++){
                    var video = videos[i];

                    video.addEventListener("playing", () => {
                        viewHome(video.id)
                        });  
                }